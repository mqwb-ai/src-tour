<elevenlabs-convai agent-id="agent_01jvn5j7m7emj9mva27qc019fy"></elevenlabs-convai>
<script src="https://elevenlabs.io/convai-widget/index.js" async type="text/javascript"></script>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const waitForWidget = () =>
      new Promise((resolve) => {
        const check = () => {
          const widget = document.getElementById('convai-widget');
          if (widget && widget.clientTools !== undefined) {
            resolve(widget);
          } else {
            setTimeout(check, 100);
          }
        };
        check();
      });

    waitForWidget().then((widget) => {
      widget.clientTools = {
        logMessage: async ({ message }) => {
          console.log('logMessage (in tag):', message);
        }
      };
      console.log("Client tools registered via widget tag");
    });
  });
</script>
