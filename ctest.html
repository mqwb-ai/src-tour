<elevenlabs-convai agent-id="agent_01jvn5j7m7emj9mva27qc019fy"></elevenlabs-convai>
<script src="https://elevenlabs.io/convai-widget/index.js" async type="text/javascript"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const widget = document.querySelector('elevenlabs-convai');
  console.log(widget); // Check if the widget is properly selected
  if (widget) {
    widget.addEventListener('elevenlabs-convai:call', (event) => {
      console.log('Call event triggered'); // Check if the event listener is working
      event.detail.config.clientTools = {
        logMessage: ({ message }) => {
          console.log(message); // This should log your desired messages
        },
      };
    });

    // Manual dispatch for testing (remove/modify in production as needed)
    // widget.dispatchEvent(new CustomEvent('elevenlabs-convai:call', { detail: { config: {} } }));
  }
});
</script>
